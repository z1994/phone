<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


    <style>

    </style>
</head>
<style>
    body {
        margin: 0;
        
    }


    #photo {
        width: 100vw;
    }

    #qrcode {
        width: 100vw;
    }

    #photo {
        position: absolute;
        top: 0;
        left: 0;
        background: #fff;
        z-index: 99;
    }
</style>

<body onresize="myFunction()">

    <section id="section">
        　　<p>当前积分<span>365</span></p>
        <img class="img" src="./imgs/A.png" alt="">
        　　<p>参与项目1数量<span>12</span></p>
        　　<p>募捐金额<span>45678</span>元</p>
        　　<p>荣誉等级<span>海绵宝宝</span></p>
        　　<div id="qrcode"></div>
        　　
    </section>
    <div id='photo'>
        <!-- 　<a href="www.baidu.com">
            <span>长按图片保存和分享</span>
        </a>　 -->


    </div>

    <div>
        <a href="http://www.baidu.com/">超链接xxxxxxxx</a>
    </div>

</body>

</html>

<!-- <script src="https://cdn.bootcss.com/html2canvas/0.4.1/html2canvas.js"></script> -->
<script src="./js/html2canvas.js"></script>
<script src="./js/html2canvas.min.js"></script>
<script src="./js/html2canvas.svg.js"></script>
<script src="./js/html2canvas.svg.min.js"></script>

<script>
    var w = window.outerWidth;
    var h = window.outerHeight;


    function saveImg() {
        // let imgHeight = window.document.querySelector('.content').offsetHeight // 获取DOM高度
        // let imgWidth = window.document.querySelector('.content').offsetWidth // 获取DOM宽度
        let scale = window.devicePixelRatio // 获取设备像素比
        console.log(scale)



        var shareContent = document.getElementById("section");

        html2canvas(shareContent, {
            useCORS: true,
            scale: 2,
            width: w,
            height: h,
            onrendered: function (canvas) {
                var img = new Image();
                img.src = canvas.toDataURL();
                var newimg = document.getElementById("photo").appendChild(img);
                console.log(w);
                console.log(h);
                newimg.style.width = "100vw";
            }
        })
    }


    // var img=document.getElementById("img")

    //     function saveImg(){
    //         var shareContent = document.getElementById("section");
    // 　　　　　　　　html2canvas( shareContent,{
    // 　　　　　　　　　　onrendered: function(canvas){
    // 　　　　　　　　　　this.url = canvas.toDataURL() ;　　　　　　　　
    // 　　　　　　　　}
    // 　　　　　　})
    // 　　　　}


    setTimeout(function () {
        saveImg()
    }, 800);
</script>